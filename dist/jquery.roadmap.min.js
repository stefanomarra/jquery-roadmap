!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof exports?module.exports=e(require("jquery"),window,document):e(jQuery,window,document)}(function(e,t,n,s){"use strict";e.fn.roadmap=function(n,s){!n instanceof Array&&(n=[]);var r={slide:1,eventsPerSlide:6,rootClass:"roadmap",prevArrow:"prev",nextArrow:"next",eventTemplate:'<div class="event"><div class="event__date">####DATE###</div><div class="event__content">####CONTENT###</div></div>'},a=e.extend({},r,s),i=function(t,n){var s='<li class="'+a.rootClass+'__events__event">'+a.eventTemplate+"</li>";s=s.replace("####DATE###",t.date),s=s.replace("####CONTENT###",t.content);var r=100/(a.eventsPerSlide-1)*n;return e(s).css("left",r+"%")};return this.each(function(){var s=this,r=e(this),o=a.slide-1;r.data({events:n,settings:a,currentSlide:o}).addClass(a.rootClass);var l=function(){r.removeClass(a.rootClass+"--initialized"),r.find("."+a.rootClass+"__events").remove(),r.find("."+a.rootClass+"__navigation").remove()},d=function(){var t=r.data("currentSlide"),n=r.data("settings"),a=r.data("events");e("<ol/>",{"class":n.rootClass+"__events"}).append(a.slice(t*n.eventsPerSlide,(t+1)*n.eventsPerSlide).map(i)).appendTo(s)},v=function(){var t=r.data("currentSlide"),i=function(s){switch(s){case"prev":if(t>0)return e('<li><a href="#" class="'+s+'">'+a.prevArrow+"</a></li>");break;case"next":if((t+1)*a.eventsPerSlide<n.length)return e('<li><a href="#" class="'+s+'">'+a.nextArrow+"</a></li>")}return e("<li></li>")};e("<ul/>",{"class":a.rootClass+"__navigation"}).append(["prev","next"].map(i)).appendTo(s)},c=function(){l(),d(),v(),setTimeout(function(){r.addClass(a.rootClass+"--initialized")},100)};c(),e("body").on("click","."+a.rootClass+" ."+a.rootClass+"__navigation li > *",function(t){if(t.preventDefault(),e(this).hasClass("prev")){var s=r.data("currentSlide");if(s<1)return!1;r.data({events:n,settings:a,currentSlide:s-1}),c()}else{var s=r.data("currentSlide");if((s+1)*a.eventsPerSlide>=n.length)return!1;r.data({events:n,settings:a,currentSlide:s+1}),c()}}),e(t).on("resize",function(){r.removeClass(a.rootClass+"--initialized"),c()})})}});